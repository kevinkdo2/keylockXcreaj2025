<!-- views/partials/header.ejs (actualizado) -->

<header class="main-header">
  <div class="container">
    <div class="logo">
      <a href="/">Mi Aplicaci贸n</a>
    </div>
    
    <nav class="main-nav">
      <ul>
        <li><a href="/">Inicio</a></li>
        <li><a href="/info">Info</a></li>
        
        <% if (user) { %>
          <% if (user.isAdmin) { %>
            <!-- Men煤 de navegaci贸n especial para administradores -->
            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle">
                <span class="icon"></span> Administraci贸n
              </a>
              <div class="dropdown-menu">
                <a href="/admin/dashboard">Dashboard</a>
                <a href="/admin/empresas">Gesti贸n de Empresas</a>
                <a href="/admin/usuarios">Gesti贸n de Usuarios</a>
                <a href="/admin/paquetes">Gesti贸n de Paquetes</a>
              </div>
            </li>
            <!-- Enlace al 谩rea de usuario normal -->
            <li><a href="/dashboard">Ver rea de Usuario</a></li>
          <% } else { %>
            <li><a href="/dashboard">Dashboard</a></li>
            <li><a href="/admin/usuarios">Mis Usuarios</a></li>
            <li><a href="/admin/paquetes">Mis Paquetes</a></li>
          <% } %>
          
          <li class="user-info">
            <span class="user-name">
              <% if (user.isAdmin) { %>
                <span class="admin-badge">Admin</span>
              <% } %>
              <%= user.nombre %>
            </span>
            <div class="dropdown-menu">
              <a href="/profile">Perfil</a>
              <a href="/settings">Configuraci贸n</a>
              <a href="/logout">Cerrar Sesi贸n</a>
            </div>
          </li>
        <% } else { %>
          <li><a href="/login">Iniciar Sesi贸n</a></li>
          <li><a href="/register">Registrarse</a></li>
        <% } %>
      </ul>
    </nav>
  </div>
</header>

<% if (typeof success_msg !== 'undefined' && success_msg.length > 0) { %>
  <div class="alert alert-success"><%= success_msg %></div>
<% } %>

<% if (typeof error_msg !== 'undefined' && error_msg.length > 0) { %>
  <div class="alert alert-danger"><%= error_msg %></div>
<% } %>

<% if (typeof error !== 'undefined' && error.length > 0) { %>
  <div class="alert alert-danger"><%= error %></div>
<% } %>